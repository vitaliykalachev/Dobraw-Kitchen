<div>
  <h1>{{recipe.title}}</h1>

  <div class="row">

    <div class="column">

      <h2>Рецепт </h2>
      <hr>

      <input type="number" id="mulltiply_number_id" class="number" />
      <br>

      <input type="button" class="btn btn-primary" onClick="coeficent()" Value="Multiply" />
      <hr>
    </div>

    <div>

      <table>
        <colgroup>
          <col span="1" style="background:rgb(255, 255, 255)">
          <col span="1" style="background:Khaki">
          <!-- С помощью этой конструкции задаем цвет фона для первых двух столбцов таблицы-->
          <col span="1" style="background-color:LightCyan">
          <!-- Задаем цвет фона для следующего (одного) столбца таблицы-->
          <col span="1" style="background-color:rgb(182, 255, 143)">
          <!-- Задаем цвет фона для следующего (одного) столбца таблицы-->
        </colgroup>
        <tr>
          <th></th>
          <th>Наименование</th>
          <th>Вес 1(гр)</th>
          <th>Вес <span id="result_input"></span> </th>
        </tr>

        {%for ingredient in recipe.recipepart_ingredient%}

        <tr>
          <td style=" text-align: center;
         font-size: 14px;
        ">{{ingredient.recipepart_title }}</td>
          <td>{{ingredient.ingredient_title}}</td>

          <td class="weight">{{ingredient.weight}}</td>


          <td class="weight-result">
            {{ingredient.weight}}
          </td>



        </tr>
        {%endfor%}

      </table>

    </div>


    </form>


    <script>



      input.oninput = function () {

      };

      function coeficent() {
        const coeficent = document.getElementById("mulltiply_number_id").value;
        const input = document.getElementById('mulltiply_number_id');
        try {
          if (coeficent) {

            const coeficentFloat = parseFloat(coeficent);
            const positions = Array.from(document.querySelectorAll("td.weight"));
            document.getElementById('result_input').innerHTML = input.value;
            positions.forEach((position) => {
              const weight = parseFloat(position.innerText);

              position.closest("tr").querySelector("td.weight-result").innerText =
                weight * coeficentFloat;
            });
          }
        }
        catch (error) {
          message.innerHTML = "Input is" + error;
        }

      };
    </script>


  </div>



  <h2>Описание</h2>
  <hr>


  {{recipe.description}}

</div>

</div>